"use strict";(self.webpackChunknifty_bees_calculator=self.webpackChunknifty_bees_calculator||[]).push([[492],{492:(R,m,s)=>{s.r(m),s.d(m,{RegularSipComponent:()=>y});var c=s(6895),r=s(433),d=s(6214),p=s(7579),g=s(5243),_=s(2722),v=s(1548),t=s(8256),h=s(114),f=s(2387);function Z(n,o){1&n&&(t.TgZ(0,"div",43),t._uU(1," Please select a valid start date "),t.qZA())}function T(n,o){1&n&&(t.TgZ(0,"div",43),t._uU(1," Please select a valid end date "),t.qZA())}function U(n,o){1&n&&(t.TgZ(0,"div",43),t._uU(1," Please enter amount between \u20b9500 - \u20b910,00,000 "),t.qZA())}function b(n,o){if(1&n&&(t.TgZ(0,"option",44),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function A(n,o){if(1&n&&(t.TgZ(0,"div",45),t._UZ(1,"i",46),t.TgZ(2,"strong"),t._uU(3,"Investment Duration:"),t.qZA(),t._uU(4),t.qZA()),2&n){const e=t.oxw();t.xp6(4),t.hij(" ",e.investmentDuration," years ")}}function x(n,o){1&n&&(t.TgZ(0,"div",47),t._UZ(1,"div",48),t._uU(2," Calculating your returns... "),t.qZA())}function D(n,o){if(1&n&&t._UZ(0,"app-investment-growth-chart",67),2&n){const e=t.oxw(2);t.Q6J("dates",e.chartDates)("invested",e.chartInvested)("portfolio",e.chartPortfolio)}}function P(n,o){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA()()),2&n){const e=o.$implicit,i=t.oxw(2);t.xp6(2),t.Oqu(t.xi3(3,6,e.date,"dd/MM/yyyy")),t.xp6(3),t.hij("\u20b9",i.formatNumber(e.amount),""),t.xp6(2),t.hij("\u20b9",e.price.toFixed(2),""),t.xp6(2),t.Oqu(e.units.toFixed(2)),t.xp6(2),t.Oqu(e.totalUnits.toFixed(2)),t.xp6(2),t.hij("\u20b9",i.formatNumber(e.value),"")}}function C(n,o){if(1&n&&(t.TgZ(0,"div",68)(1,"small",69),t._uU(2),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.hij(" Showing last 50 transactions. Total: ",e.sipResult.transactions.length," transactions ")}}function q(n,o){if(1&n&&(t.TgZ(0,"div")(1,"div",49)(2,"div",50)(3,"div",51)(4,"div",52),t._uU(5),t.qZA(),t.TgZ(6,"div",53),t._uU(7,"Total Invested"),t.qZA()()(),t.TgZ(8,"div",50)(9,"div",51)(10,"div",54),t._uU(11),t.qZA(),t.TgZ(12,"div",53),t._uU(13,"Current Value"),t.qZA()()(),t.TgZ(14,"div",50)(15,"div",51)(16,"div",55),t._uU(17),t.qZA(),t.TgZ(18,"div",53),t._uU(19,"Total Returns"),t.qZA()()(),t.TgZ(20,"div",50)(21,"div",51)(22,"div",56),t._uU(23),t.qZA(),t.TgZ(24,"div",53),t._uU(25,"XIRR (Annual Returns)"),t.qZA()()()(),t.TgZ(26,"div",49)(27,"div",57)(28,"div",51)(29,"div",55),t._uU(30),t.qZA(),t.TgZ(31,"div",53),t._uU(32,"Total Units"),t.qZA()()(),t.TgZ(33,"div",57)(34,"div",51)(35,"div",55),t._uU(36),t.qZA(),t.TgZ(37,"div",53),t._uU(38,"Average Buy Price"),t.qZA()()(),t.TgZ(39,"div",57)(40,"div",51)(41,"div",55),t._uU(42),t.qZA(),t.TgZ(43,"div",53),t._uU(44,"Current Price"),t.qZA()()()(),t.YNc(45,D,1,3,"app-investment-growth-chart",58),t.TgZ(46,"div",16)(47,"div",17)(48,"h6",59),t._UZ(49,"i",60),t._uU(50," Recent Transactions "),t.TgZ(51,"span",61),t._uU(52),t.qZA()(),t.TgZ(53,"div",62)(54,"table",63)(55,"thead",64)(56,"tr")(57,"th"),t._uU(58,"Date"),t.qZA(),t.TgZ(59,"th"),t._uU(60,"Amount"),t.qZA(),t.TgZ(61,"th"),t._uU(62,"Price"),t.qZA(),t.TgZ(63,"th"),t._uU(64,"Units"),t.qZA(),t.TgZ(65,"th"),t._uU(66,"Total Units"),t.qZA(),t.TgZ(67,"th"),t._uU(68,"Portfolio Value"),t.qZA()()(),t.TgZ(69,"tbody"),t.YNc(70,P,14,9,"tr",65),t.qZA()()(),t.YNc(71,C,3,1,"div",66),t.qZA()()()),2&n){const e=t.oxw();t.xp6(5),t.Oqu(e.formatCurrency(e.sipResult.totalInvested)),t.xp6(6),t.Oqu(e.formatCurrency(e.sipResult.currentValue)),t.xp6(5),t.ekj("text-success",e.sipResult.totalReturns>0)("text-danger",e.sipResult.totalReturns<0),t.xp6(1),t.hij(" ",e.formatCurrency(e.sipResult.totalReturns)," "),t.xp6(6),t.Oqu(e.formatPercentage(e.sipResult.xirr)),t.xp6(7),t.Oqu(e.formatNumber(e.sipResult.totalUnits,2)),t.xp6(6),t.hij("\u20b9",e.sipResult.averagePrice.toFixed(2),""),t.xp6(6),t.hij("\u20b9",e.currentPrice.toFixed(2),""),t.xp6(3),t.Q6J("ngIf",e.sipResult&&e.chartDates.length>0),t.xp6(7),t.hij("",e.sipResult.transactions.length," total"),t.xp6(18),t.Q6J("ngForOf",e.recentTransactions)("ngForTrackBy",e.trackByDate),t.xp6(1),t.Q6J("ngIf",e.sipResult.transactions.length>50)}}let y=(()=>{class n{constructor(e,i,a){this.fb=e,this.calculatorService=i,this.dataService=a,this.sipResult=null,this.isCalculating=!1,this.currentPrice=272.22,this.investmentDuration=null,this.chartDates=[],this.chartInvested=[],this.chartPortfolio=[],this.minDate="2004-01-01",this.maxDate="2025-09-25",this.sipDates=Array.from({length:28},(l,u)=>u+1),this.recentTransactions=[],this.destroy$=new p.x,this.currentPrice=this.dataService.getCurrentPrice()}ngOnInit(){this.initializeForm(),this.setupFormValidation(),this.calculateSIP()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeForm(){this.sipForm=this.fb.group({startDate:["2010-01-01",r.kI.required],endDate:["2024-12-17",r.kI.required],monthlyAmount:[1e4,[r.kI.required,r.kI.min(500),r.kI.max(1e6)]],sipDate:[1,[r.kI.required,r.kI.min(1),r.kI.max(28)]]})}setupFormValidation(){this.sipForm.valueChanges.pipe((0,g.b)(500),(0,_.R)(this.destroy$)).subscribe(()=>{this.sipForm.valid&&(this.calculateInvestmentDuration(),this.calculateSIP())})}calculateInvestmentDuration(){const e=new Date(this.sipForm.get("startDate")?.value),i=new Date(this.sipForm.get("endDate")?.value);if(e&&i&&e<i){const a=Math.abs(i.getTime()-e.getTime()),l=Math.ceil(a/315576e5);this.investmentDuration=l}else this.investmentDuration=null}calculateSIP(){if(this.sipForm.invalid)return;this.isCalculating=!0;const e=this.sipForm.value;try{const i=this.calculatorService.calculateRegularSip({startDate:new Date(e.startDate),endDate:new Date(e.endDate),monthlyAmount:e.monthlyAmount,sipDate:e.sipDate});this.sipResult=i,this.recentTransactions=i.transactions.slice(-50).reverse(),this.chartDates=this.sipResult.transactions.map(l=>l.date.toISOString().split("T")[0]);let a=0;this.chartInvested=[],this.chartPortfolio=[];for(const l of this.sipResult.transactions)a+=l.amount,this.chartInvested.push(a),this.chartPortfolio.push(l.value)}catch(i){console.error("Error calculating SIP:",i)}finally{setTimeout(()=>{this.isCalculating=!1},800)}}resetForm(){this.sipForm.reset({startDate:"2010-01-01",endDate:"2024-12-17",monthlyAmount:1e4,sipDate:1})}applyPreset(e){this.sipForm.patchValue({monthlyAmount:{conservative:5e3,moderate:1e4,aggressive:25e3,premium:5e4}[e]||1e4})}trackByDate(e,i){return console.log(e),i.date.getTime().toString()}formatCurrency(e){return this.calculatorService.formatCurrency(e)}formatNumber(e,i=0){return this.calculatorService.formatNumber(e,i)}formatPercentage(e){return this.calculatorService.formatPercentage(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(r.qu),t.Y36(h.r),t.Y36(f.l))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-regular-sip"]],standalone:!0,features:[t.jDz],decls:84,vars:12,consts:[[1,"regular-sip-page"],[1,"calculator-header"],[1,"container"],[1,"row","align-items-center"],[1,"col-md-8"],[1,"mb-2"],[1,"bi","bi-arrow-repeat","me-3"],[1,"mb-0"],[1,"col-md-4","text-md-end"],["routerLink","/calculator",1,"btn","btn-outline-light","me-2"],[1,"bi","bi-house","me-2"],[1,"btn","btn-outline-light",3,"click"],[1,"bi","bi-arrow-clockwise","me-2"],[1,"container","mt-4"],[1,"row"],[1,"col-lg-4"],[1,"card","card-custom"],[1,"card-body"],[1,"card-title","text-primary-custom","mb-4"],[1,"bi","bi-sliders","me-2"],[1,"needs-validation",3,"formGroup"],[1,"row","mb-3"],[1,"col-6"],[1,"form-label","fw-semibold"],["type","date","formControlName","startDate",1,"form-control",3,"min","max"],["class","invalid-feedback",4,"ngIf"],["type","date","formControlName","endDate",1,"form-control",3,"min","max"],[1,"mb-3"],[1,"input-group"],[1,"input-group-text"],["type","number","formControlName","monthlyAmount","placeholder","10,000","min","500","step","500",1,"form-control"],[1,"mb-4"],["formControlName","sipDate",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],[1,"form-text"],["class","alert alert-info",4,"ngIf"],[1,"quick-presets","mt-4"],[1,"fw-semibold","mb-3"],[1,"row","g-2"],[1,"btn","btn-outline-primary","btn-sm","w-100",3,"click"],[1,"col-lg-8"],["class","text-center py-5",4,"ngIf"],[4,"ngIf"],[1,"invalid-feedback"],[3,"value"],[1,"alert","alert-info"],[1,"bi","bi-info-circle","me-2"],[1,"text-center","py-5"],[1,"loading-spinner","me-2"],[1,"row","g-3","mb-4"],[1,"col-md-3"],[1,"metric-card"],[1,"metric-value","text-primary"],[1,"metric-label"],[1,"metric-value","text-success"],[1,"metric-value"],[1,"metric-value","text-info"],[1,"col-md-4"],[3,"dates","invested","portfolio",4,"ngIf"],[1,"card-title"],[1,"bi","bi-list-ul","me-2"],[1,"badge","bg-primary","ms-2"],[1,"table-responsive","custom-scrollbar",2,"max-height","400px"],[1,"table","table-hover","table-sm"],[1,"table-dark","sticky-top"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","text-center mt-3",4,"ngIf"],[3,"dates","invested","portfolio"],[1,"text-center","mt-3"],[1,"text-muted"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),t._UZ(6,"i",6),t._uU(7," Regular SIP Calculator "),t.qZA(),t.TgZ(8,"p",7),t._uU(9,"Calculate returns for regular monthly investments in NIFTY BEES"),t.qZA()(),t.TgZ(10,"div",8)(11,"button",9),t._UZ(12,"i",10),t._uU(13,"Home "),t.qZA(),t.TgZ(14,"button",11),t.NdJ("click",function(){return i.resetForm()}),t._UZ(15,"i",12),t._uU(16,"Reset "),t.qZA()()()()(),t.TgZ(17,"div",13)(18,"div",14)(19,"div",15)(20,"div",16)(21,"div",17)(22,"h5",18),t._UZ(23,"i",19),t._uU(24,"Investment Parameters "),t.qZA(),t.TgZ(25,"form",20)(26,"div",21)(27,"div",22)(28,"label",23),t._uU(29,"Start Date"),t.qZA(),t._UZ(30,"input",24),t.YNc(31,Z,2,0,"div",25),t.qZA(),t.TgZ(32,"div",22)(33,"label",23),t._uU(34,"End Date"),t.qZA(),t._UZ(35,"input",26),t.YNc(36,T,2,0,"div",25),t.qZA()(),t.TgZ(37,"div",27)(38,"label",23),t._uU(39,"Monthly SIP Amount"),t.qZA(),t.TgZ(40,"div",28)(41,"span",29),t._uU(42,"\u20b9"),t.qZA(),t._UZ(43,"input",30),t.qZA(),t.YNc(44,U,2,0,"div",25),t.qZA(),t.TgZ(45,"div",31)(46,"label",23),t._uU(47,"SIP Date (Day of Month)"),t.qZA(),t.TgZ(48,"select",32),t.YNc(49,b,2,2,"option",33),t.qZA(),t.TgZ(50,"div",34),t._uU(51,"Day of the month when SIP will be executed"),t.qZA()(),t.YNc(52,A,5,1,"div",35),t.qZA(),t.TgZ(53,"div",36)(54,"h6",37),t._uU(55,"Quick Presets"),t.qZA(),t.TgZ(56,"div",38)(57,"div",22)(58,"button",39),t.NdJ("click",function(){return i.applyPreset("conservative")}),t._uU(59," Conservative"),t._UZ(60,"br"),t.TgZ(61,"small"),t._uU(62,"\u20b95,000/month"),t.qZA()()(),t.TgZ(63,"div",22)(64,"button",39),t.NdJ("click",function(){return i.applyPreset("moderate")}),t._uU(65," Moderate"),t._UZ(66,"br"),t.TgZ(67,"small"),t._uU(68,"\u20b910,000/month"),t.qZA()()(),t.TgZ(69,"div",22)(70,"button",39),t.NdJ("click",function(){return i.applyPreset("aggressive")}),t._uU(71," Aggressive"),t._UZ(72,"br"),t.TgZ(73,"small"),t._uU(74,"\u20b925,000/month"),t.qZA()()(),t.TgZ(75,"div",22)(76,"button",39),t.NdJ("click",function(){return i.applyPreset("premium")}),t._uU(77," Premium"),t._UZ(78,"br"),t.TgZ(79,"small"),t._uU(80,"\u20b950,000/month"),t.qZA()()()()()()()(),t.TgZ(81,"div",40),t.YNc(82,x,3,0,"div",41),t.YNc(83,q,72,16,"div",42),t.qZA()()()()),2&e){let a,l,u;t.xp6(25),t.Q6J("formGroup",i.sipForm),t.xp6(5),t.Q6J("min",i.minDate)("max",i.maxDate),t.xp6(1),t.Q6J("ngIf",(null==(a=i.sipForm.get("startDate"))?null:a.invalid)&&(null==(a=i.sipForm.get("startDate"))?null:a.touched)),t.xp6(4),t.Q6J("min",i.minDate)("max",i.maxDate),t.xp6(1),t.Q6J("ngIf",(null==(l=i.sipForm.get("endDate"))?null:l.invalid)&&(null==(l=i.sipForm.get("endDate"))?null:l.touched)),t.xp6(8),t.Q6J("ngIf",(null==(u=i.sipForm.get("monthlyAmount"))?null:u.invalid)&&(null==(u=i.sipForm.get("monthlyAmount"))?null:u.touched)),t.xp6(5),t.Q6J("ngForOf",i.sipDates),t.xp6(3),t.Q6J("ngIf",i.investmentDuration),t.xp6(30),t.Q6J("ngIf",i.isCalculating),t.xp6(1),t.Q6J("ngIf",!i.isCalculating&&i.sipResult)}},dependencies:[c.ez,c.sg,c.O5,c.uU,r.UX,r._Y,r.YN,r.Kr,r.Fj,r.wV,r.EJ,r.JJ,r.JL,r.qQ,r.sg,r.u,d.Bz,d.rH,v.U],styles:[".calculator-header[_ngcontent-%COMP%]{background:var(--primary-gradient);color:#fff;padding:2rem 0}.metric-card[_ngcontent-%COMP%]{transition:all .3s ease}.metric-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 15px #00000026}.chart-placeholder[_ngcontent-%COMP%]{background:linear-gradient(45deg,#f8f9fa 25%,transparent 25%),linear-gradient(-45deg,#f8f9fa 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#f8f9fa 75%),linear-gradient(-45deg,transparent 75%,#f8f9fa 75%);background-size:20px 20px;background-position:0 0,0 10px,10px -10px,-10px 0px;border-radius:10px;border:2px dashed #dee2e6}.quick-presets[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.875rem;padding:.75rem .5rem}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.875rem;vertical-align:middle}.alert[_ngcontent-%COMP%]{border:none;border-radius:10px}@media (max-width: 768px){.calculator-header[_ngcontent-%COMP%]{text-align:center;padding:1.5rem 0}.metric-card[_ngcontent-%COMP%]{margin-bottom:1rem}.table-responsive[_ngcontent-%COMP%]{font-size:.8rem}}"]}),n})()}}]);