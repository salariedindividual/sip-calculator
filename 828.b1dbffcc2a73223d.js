"use strict";(self.webpackChunknifty_bees_calculator=self.webpackChunknifty_bees_calculator||[]).push([[828],{9828:(y,c,o)=>{o.r(c),o.d(c,{StepUpSipComponent:()=>x});var u=o(6895),n=o(433),m=o(9199),_=o(7579),g=o(5243),v=o(2722),t=o(8256),Z=o(114);function U(i,a){if(1&i&&(t.TgZ(0,"option",43),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function f(i,a){if(1&i&&(t.TgZ(0,"div",49)(1,"small"),t._uU(2),t.TgZ(3,"strong"),t._uU(4),t.qZA()()()),2&i){const e=a.$implicit,r=t.oxw(2);t.xp6(2),t.hij("Year ",e.year,": "),t.xp6(2),t.hij("\u20b9",r.formatNumber(e.amount),"")}}function T(i,a){if(1&i&&(t.TgZ(0,"small",50),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ...and ",e.stepUpPreview.length-5," more years ")}}function h(i,a){if(1&i&&(t.TgZ(0,"div",44)(1,"h6"),t._UZ(2,"i",45),t._uU(3,"Step-up Preview"),t.qZA(),t.TgZ(4,"div",46),t.YNc(5,f,5,2,"div",47),t.YNc(6,T,2,1,"small",48),t.qZA()()),2&i){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.stepUpPreview.slice(0,5)),t.xp6(1),t.Q6J("ngIf",e.stepUpPreview.length>5)}}function A(i,a){1&i&&(t.TgZ(0,"div",51),t._UZ(1,"div",52),t._uU(2," Calculating step-up returns... "),t.qZA())}function b(i,a){if(1&i&&(t.TgZ(0,"div",69)(1,"div",17)(2,"h6",62),t._UZ(3,"i",70),t._uU(4," Step-up vs Regular SIP Comparison "),t.qZA(),t.TgZ(5,"div",71)(6,"div",72)(7,"div",73)(8,"div",58),t._uU(9),t.qZA(),t.TgZ(10,"div",57),t._uU(11,"Additional Wealth Created"),t.qZA()()(),t.TgZ(12,"div",72)(13,"div",73)(14,"div",60),t._uU(15),t.qZA(),t.TgZ(16,"div",57),t._uU(17,"Better Performance"),t.qZA()()(),t.TgZ(18,"div",72)(19,"div",73)(20,"div",74),t._uU(21),t.qZA(),t.TgZ(22,"div",57),t._uU(23,"Additional Investment"),t.qZA()()()()()()),2&i){const e=t.oxw(2);t.xp6(9),t.Oqu(e.formatCurrency(e.sipResult.currentValue-e.regularSipComparison.currentValue)),t.xp6(6),t.hij(" ",(100*(e.sipResult.currentValue/e.regularSipComparison.currentValue-1)).toFixed(1),"% "),t.xp6(6),t.hij(" ",e.formatCurrency(e.sipResult.totalInvested-e.regularSipComparison.totalInvested)," ")}}function S(i,a){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"td")(5,"span",75),t._uU(6),t.qZA()(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA()()),2&i){const e=a.$implicit,r=t.oxw(2);t.xp6(2),t.Oqu(t.xi3(3,6,e.date,"dd/MM/yyyy")),t.xp6(4),t.Oqu(e.type),t.xp6(2),t.hij("\u20b9",r.formatNumber(e.amount),""),t.xp6(2),t.hij("\u20b9",e.price.toFixed(2),""),t.xp6(2),t.Oqu(e.units.toFixed(2)),t.xp6(2),t.Oqu(e.totalUnits.toFixed(2))}}function q(i,a){if(1&i&&(t.TgZ(0,"div")(1,"div",53)(2,"div",54)(3,"div",55)(4,"div",56),t._uU(5),t.qZA(),t.TgZ(6,"div",57),t._uU(7,"Total Invested"),t.qZA()()(),t.TgZ(8,"div",54)(9,"div",55)(10,"div",58),t._uU(11),t.qZA(),t.TgZ(12,"div",57),t._uU(13,"Current Value"),t.qZA()()(),t.TgZ(14,"div",54)(15,"div",55)(16,"div",59),t._uU(17),t.qZA(),t.TgZ(18,"div",57),t._uU(19,"Total Returns"),t.qZA()()(),t.TgZ(20,"div",54)(21,"div",55)(22,"div",60),t._uU(23),t.qZA(),t.TgZ(24,"div",57),t._uU(25,"XIRR"),t.qZA()()()(),t.YNc(26,b,24,3,"div",61),t.TgZ(27,"div",16)(28,"div",17)(29,"h6",62),t._UZ(30,"i",63),t._uU(31," Recent Transactions "),t.TgZ(32,"span",64),t._uU(33),t.qZA()(),t.TgZ(34,"div",65)(35,"table",66)(36,"thead",67)(37,"tr")(38,"th"),t._uU(39,"Date"),t.qZA(),t.TgZ(40,"th"),t._uU(41,"Type"),t.qZA(),t.TgZ(42,"th"),t._uU(43,"Amount"),t.qZA(),t.TgZ(44,"th"),t._uU(45,"Price"),t.qZA(),t.TgZ(46,"th"),t._uU(47,"Units"),t.qZA(),t.TgZ(48,"th"),t._uU(49,"Total Units"),t.qZA()()(),t.TgZ(50,"tbody"),t.YNc(51,S,15,9,"tr",68),t.qZA()()()()()()),2&i){const e=t.oxw();t.xp6(5),t.Oqu(e.formatCurrency(e.sipResult.totalInvested)),t.xp6(6),t.Oqu(e.formatCurrency(e.sipResult.currentValue)),t.xp6(5),t.ekj("text-success",e.sipResult.totalReturns>0),t.xp6(1),t.hij(" ",e.formatCurrency(e.sipResult.totalReturns)," "),t.xp6(6),t.Oqu(e.formatPercentage(e.sipResult.xirr)),t.xp6(3),t.Q6J("ngIf",e.regularSipComparison),t.xp6(7),t.hij("",e.sipResult.transactions.length," total"),t.xp6(18),t.Q6J("ngForOf",e.recentTransactions)}}let x=(()=>{class i{constructor(e,r){this.fb=e,this.calculatorService=r,this.sipResult=null,this.regularSipComparison=null,this.isCalculating=!1,this.stepUpPreview=[],this.sipDates=Array.from({length:28},(s,p)=>p+1),this.recentTransactions=[],this.destroy$=new _.x}ngOnInit(){this.initializeForm(),this.setupFormValidation(),this.calculateSIP()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeForm(){this.sipForm=this.fb.group({startDate:["2010-01-01",n.kI.required],endDate:["2024-12-17",n.kI.required],initialAmount:[1e4,[n.kI.required,n.kI.min(500)]],stepUpPercentage:[10,[n.kI.required,n.kI.min(0),n.kI.max(50)]],sipDate:[1,n.kI.required]})}setupFormValidation(){this.sipForm.valueChanges.pipe((0,g.b)(500),(0,v.R)(this.destroy$)).subscribe(()=>{this.sipForm.valid&&(this.generateStepUpPreview(),this.calculateSIP())})}generateStepUpPreview(){const{startDate:e,endDate:r,initialAmount:s,stepUpPercentage:p}=this.sipForm.value,C=new Date(e),P=new Date(r).getFullYear()-C.getFullYear();this.stepUpPreview=[];let d=s;for(let l=0;l<=P;l++)this.stepUpPreview.push({year:l+1,amount:d}),d*=1+p/100}calculateSIP(){if(this.sipForm.invalid)return;this.isCalculating=!0;const e=this.sipForm.value;try{this.sipResult=this.calculatorService.calculateStepUpSip({startDate:new Date(e.startDate),endDate:new Date(e.endDate),initialAmount:e.initialAmount,stepUpPercentage:e.stepUpPercentage,sipDate:e.sipDate}),this.regularSipComparison=this.calculatorService.calculateRegularSip({startDate:new Date(e.startDate),endDate:new Date(e.endDate),monthlyAmount:e.initialAmount,sipDate:e.sipDate}),this.recentTransactions=this.sipResult.transactions.slice(-50).reverse()}catch(r){console.error("Error calculating step-up SIP:",r)}finally{setTimeout(()=>{this.isCalculating=!1},800)}}resetForm(){this.sipForm.reset({startDate:"2010-01-01",endDate:"2024-12-17",initialAmount:1e4,stepUpPercentage:10,sipDate:1})}applyPreset(e){const s={conservative:{amount:5e3,increase:5},moderate:{amount:1e4,increase:10},aggressive:{amount:15e3,increase:15},premium:{amount:25e3,increase:20}}[e];this.sipForm.patchValue({initialAmount:s.amount,stepUpPercentage:s.increase})}formatCurrency(e){return this.calculatorService.formatCurrency(e)}formatNumber(e,r=0){return this.calculatorService.formatNumber(e,r)}formatPercentage(e){return this.calculatorService.formatPercentage(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(n.qu),t.Y36(Z.r))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-step-up-sip"]],standalone:!0,features:[t.jDz],decls:88,vars:5,consts:[[1,"step-up-sip-page"],[1,"calculator-header"],[1,"container"],[1,"row","align-items-center"],[1,"col-md-8"],[1,"mb-2"],[1,"bi","bi-graph-up","me-3"],[1,"mb-0"],[1,"col-md-4","text-md-end"],["routerLink","/calculator",1,"btn","btn-outline-light","me-2"],[1,"bi","bi-house","me-2"],[1,"btn","btn-outline-light",3,"click"],[1,"bi","bi-arrow-clockwise","me-2"],[1,"container","mt-4"],[1,"row"],[1,"col-lg-4"],[1,"card","card-custom"],[1,"card-body"],[1,"card-title","text-primary-custom","mb-4"],[1,"bi","bi-sliders","me-2"],[3,"formGroup"],[1,"row","mb-3"],[1,"col-6"],[1,"form-label","fw-semibold"],["type","date","formControlName","startDate",1,"form-control"],["type","date","formControlName","endDate",1,"form-control"],[1,"mb-3"],[1,"input-group"],[1,"input-group-text"],["type","number","formControlName","initialAmount",1,"form-control"],["type","number","formControlName","stepUpPercentage",1,"form-control"],[1,"form-text"],[1,"mb-4"],["formControlName","sipDate",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["class","alert alert-info",4,"ngIf"],[1,"quick-presets","mt-4"],[1,"fw-semibold","mb-3"],[1,"row","g-2"],[1,"btn","btn-outline-primary","btn-sm","w-100",3,"click"],[1,"col-lg-8"],["class","text-center py-5",4,"ngIf"],[4,"ngIf"],[3,"value"],[1,"alert","alert-info"],[1,"bi","bi-info-circle","me-2"],[1,"step-up-preview"],["class","mb-1",4,"ngFor","ngForOf"],["class","text-muted",4,"ngIf"],[1,"mb-1"],[1,"text-muted"],[1,"text-center","py-5"],[1,"loading-spinner","me-2"],[1,"row","g-3","mb-4"],[1,"col-md-3"],[1,"metric-card"],[1,"metric-value","text-primary"],[1,"metric-label"],[1,"metric-value","text-success"],[1,"metric-value"],[1,"metric-value","text-info"],["class","card card-custom mb-4",4,"ngIf"],[1,"card-title"],[1,"bi","bi-list-ul","me-2"],[1,"badge","bg-primary","ms-2"],[1,"table-responsive","custom-scrollbar",2,"max-height","400px"],[1,"table","table-hover","table-sm"],[1,"table-dark","sticky-top"],[4,"ngFor","ngForOf"],[1,"card","card-custom","mb-4"],[1,"bi","bi-bar-chart-steps","me-2"],[1,"row","text-center"],[1,"col-md-4"],[1,"comparison-metric"],[1,"metric-value","text-warning"],[1,"badge","bg-info"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),t._UZ(6,"i",6),t._uU(7," Step-up SIP Calculator "),t.qZA(),t.TgZ(8,"p",7),t._uU(9,"Increase your SIP amount annually for accelerated wealth creation"),t.qZA()(),t.TgZ(10,"div",8)(11,"button",9),t._UZ(12,"i",10),t._uU(13,"Home "),t.qZA(),t.TgZ(14,"button",11),t.NdJ("click",function(){return r.resetForm()}),t._UZ(15,"i",12),t._uU(16,"Reset "),t.qZA()()()()(),t.TgZ(17,"div",13)(18,"div",14)(19,"div",15)(20,"div",16)(21,"div",17)(22,"h5",18),t._UZ(23,"i",19),t._uU(24,"Investment Parameters "),t.qZA(),t.TgZ(25,"form",20)(26,"div",21)(27,"div",22)(28,"label",23),t._uU(29,"Start Date"),t.qZA(),t._UZ(30,"input",24),t.qZA(),t.TgZ(31,"div",22)(32,"label",23),t._uU(33,"End Date"),t.qZA(),t._UZ(34,"input",25),t.qZA()(),t.TgZ(35,"div",26)(36,"label",23),t._uU(37,"Initial Monthly SIP"),t.qZA(),t.TgZ(38,"div",27)(39,"span",28),t._uU(40,"\u20b9"),t.qZA(),t._UZ(41,"input",29),t.qZA()(),t.TgZ(42,"div",26)(43,"label",23),t._uU(44,"Annual Increase"),t.qZA(),t.TgZ(45,"div",27),t._UZ(46,"input",30),t.TgZ(47,"span",28),t._uU(48,"%"),t.qZA()(),t.TgZ(49,"div",31),t._uU(50,"Percentage increase in SIP amount every year"),t.qZA()(),t.TgZ(51,"div",32)(52,"label",23),t._uU(53,"SIP Date"),t.qZA(),t.TgZ(54,"select",33),t.YNc(55,U,2,2,"option",34),t.qZA()(),t.YNc(56,h,7,2,"div",35),t.qZA(),t.TgZ(57,"div",36)(58,"h6",37),t._uU(59,"Quick Presets"),t.qZA(),t.TgZ(60,"div",38)(61,"div",22)(62,"button",39),t.NdJ("click",function(){return r.applyPreset("conservative")}),t._uU(63," Conservative"),t._UZ(64,"br"),t.TgZ(65,"small"),t._uU(66,"\u20b95K + 5%"),t.qZA()()(),t.TgZ(67,"div",22)(68,"button",39),t.NdJ("click",function(){return r.applyPreset("moderate")}),t._uU(69," Moderate"),t._UZ(70,"br"),t.TgZ(71,"small"),t._uU(72,"\u20b910K + 10%"),t.qZA()()(),t.TgZ(73,"div",22)(74,"button",39),t.NdJ("click",function(){return r.applyPreset("aggressive")}),t._uU(75," Aggressive"),t._UZ(76,"br"),t.TgZ(77,"small"),t._uU(78,"\u20b915K + 15%"),t.qZA()()(),t.TgZ(79,"div",22)(80,"button",39),t.NdJ("click",function(){return r.applyPreset("premium")}),t._uU(81," Premium"),t._UZ(82,"br"),t.TgZ(83,"small"),t._uU(84,"\u20b925K + 20%"),t.qZA()()()()()()()(),t.TgZ(85,"div",40),t.YNc(86,A,3,0,"div",41),t.YNc(87,q,52,9,"div",42),t.qZA()()()()),2&e&&(t.xp6(25),t.Q6J("formGroup",r.sipForm),t.xp6(30),t.Q6J("ngForOf",r.sipDates),t.xp6(1),t.Q6J("ngIf",r.stepUpPreview.length>0),t.xp6(30),t.Q6J("ngIf",r.isCalculating),t.xp6(1),t.Q6J("ngIf",!r.isCalculating&&r.sipResult))},dependencies:[u.ez,u.sg,u.O5,u.uU,n.UX,n._Y,n.YN,n.Kr,n.Fj,n.wV,n.EJ,n.JJ,n.JL,n.sg,n.u,m.Bz,m.rH],styles:[".calculator-header[_ngcontent-%COMP%]{background:var(--primary-gradient);color:#fff;padding:2rem 0}.step-up-preview[_ngcontent-%COMP%]{font-size:.875rem}.comparison-metric[_ngcontent-%COMP%]{padding:1rem;border-radius:8px;background:rgba(102,126,234,.1);margin-bottom:1rem}"]}),i})()}}]);